---
import { getCollection } from 'astro:content'
import ThingEntry from '../components/ThingEntry.astro'
import { chooseRandom } from '../lib/utils'

const things = await getCollection('things')

const thing = chooseRandom(things)
const nextIdx = (things.indexOf(thing) + 1) % things.length
const next = things[nextIdx]!
---
<ThingEntry
  entry={thing}
  next={next.slug}
/>
